#usda 1.0
(
    defaultPrim = "Humanoid"
)

def PhysicsScene "physicsScene"
{
    vector3f physics:gravityDirection = (0, 0, -1)
    float physics:gravityMagnitude = 9.81
}

def Xform "Humanoid"
{
    def Xform "base_link" (
        prepend apiSchemas = ["PhysicsArticulationRootAPI", "PhysicsRigidBodyAPI", "PhysicsMassAPI"]
    )
    {
        float3 xformOp:translate = (0, 0, 0.30)
        uniform token[] xformOpOrder = ["xformOp:translate"]
        float physics:mass = 2.0
        float3 physics:diagonalInertia = (0.01, 0.01, 0.01)
        
        def Cube "Torso"
        {
            float3 xformOp:translate = (0, 0, 0)
            float3 xformOp:scale = (0.05, 0.07, 0.08)
            uniform token[] xformOpOrder = ["xformOp:translate", "xformOp:scale"]
        }
    }

    def Xform "Head_link" (
        prepend apiSchemas = ["PhysicsRigidBodyAPI", "PhysicsMassAPI"]
    )
    {
        float3 xformOp:translate = (0, 0, 0.08)
        uniform token[] xformOpOrder = ["xformOp:translate"]
        float physics:mass = 0.1
        float3 physics:diagonalInertia = (0.001, 0.001, 0.001)
        
        def Cube "Head"
        {
            float3 xformOp:translate = (0, 0, 0)
            float3 xformOp:scale = (0.035, 0.035, 0.035)
            uniform token[] xformOpOrder = ["xformOp:translate", "xformOp:scale"]
        }
    }

    def PhysicsRevoluteJoint "head_joint"
    {
        uniform token physics:axis = "Z"
        rel physics:body0 = </Humanoid/base_link>
        rel physics:body1 = </Humanoid/Head_link>
        float3 physics:localPos0 = (0, 0, 0.04)
        float3 physics:localPos1 = (0, 0, -0.04)
        float physics:lowerLimit = -1.0
        float physics:upperLimit = 1.0
    }

    def Xform "L_Shoulder_link" (
        prepend apiSchemas = ["PhysicsRigidBodyAPI", "PhysicsMassAPI"]
    )
    {
        float3 xformOp:translate = (0, 0.06, 0.05)
        uniform token[] xformOpOrder = ["xformOp:translate"]
        float physics:mass = 0.1
        float3 physics:diagonalInertia = (0.001, 0.001, 0.001)
        
        def Cube "L_Shoulder"
        {
            float3 xformOp:translate = (0, 0, 0)
            float3 xformOp:scale = (0.025, 0.025, 0.025)
            uniform token[] xformOpOrder = ["xformOp:translate", "xformOp:scale"]
        }
    }

    def PhysicsRevoluteJoint "l_shoulder"
    {
        uniform token physics:axis = "Y"
        rel physics:body0 = </Humanoid/base_link>
        rel physics:body1 = </Humanoid/L_Shoulder_link>
        float3 physics:localPos0 = (0, 0.035, 0.02)
        float3 physics:localPos1 = (0, -0.015, 0)
        float physics:lowerLimit = -1.5
        float physics:upperLimit = 1.5
    }

    def Xform "R_Shoulder_link" (
        prepend apiSchemas = ["PhysicsRigidBodyAPI", "PhysicsMassAPI"]
    )
    {
        float3 xformOp:translate = (0, -0.06, 0.05)
        uniform token[] xformOpOrder = ["xformOp:translate"]
        float physics:mass = 0.1
        float3 physics:diagonalInertia = (0.001, 0.001, 0.001)
        
        def Cube "R_Shoulder"
        {
            float3 xformOp:translate = (0, 0, 0)
            float3 xformOp:scale = (0.025, 0.025, 0.025)
            uniform token[] xformOpOrder = ["xformOp:translate", "xformOp:scale"]
        }
    }

    def PhysicsRevoluteJoint "r_shoulder"
    {
        uniform token physics:axis = "Y"
        rel physics:body0 = </Humanoid/base_link>
        rel physics:body1 = </Humanoid/R_Shoulder_link>
        float3 physics:localPos0 = (0, -0.035, 0.02)
        float3 physics:localPos1 = (0, 0.015, 0)
        float physics:lowerLimit = -1.5
        float physics:upperLimit = 1.5
    }

    def Xform "L_Hip_link" (
        prepend apiSchemas = ["PhysicsRigidBodyAPI", "PhysicsMassAPI"]
    )
    {
        float3 xformOp:translate = (0, 0.025, -0.06)
        uniform token[] xformOpOrder = ["xformOp:translate"]
        float physics:mass = 0.15
        float3 physics:diagonalInertia = (0.002, 0.002, 0.002)
        
        def Cube "L_Hip"
        {
            float3 xformOp:translate = (0, 0, 0)
            float3 xformOp:scale = (0.025, 0.025, 0.025)
            uniform token[] xformOpOrder = ["xformOp:translate", "xformOp:scale"]
        }
        
        def Cube "L_Leg"
        {
            float3 xformOp:translate = (0, 0, -0.05)
            float3 xformOp:scale = (0.022, 0.022, 0.05)
            uniform token[] xformOpOrder = ["xformOp:translate", "xformOp:scale"]
        }
        
        def Cube "L_Foot"
        {
            float3 xformOp:translate = (0.008, 0, -0.10)
            float3 xformOp:scale = (0.035, 0.05, 0.008)
            uniform token[] xformOpOrder = ["xformOp:translate", "xformOp:scale"]
        }
    }

    def PhysicsRevoluteJoint "l_hip"
    {
        uniform token physics:axis = "X"
        rel physics:body0 = </Humanoid/base_link>
        rel physics:body1 = </Humanoid/L_Hip_link>
        float3 physics:localPos0 = (0, 0.025, -0.04)
        float3 physics:localPos1 = (0, 0, 0)
        float physics:lowerLimit = -0.8
        float physics:upperLimit = 0.8
    }

    def Xform "R_Hip_link" (
        prepend apiSchemas = ["PhysicsRigidBodyAPI", "PhysicsMassAPI"]
    )
    {
        float3 xformOp:translate = (0, -0.025, -0.06)
        uniform token[] xformOpOrder = ["xformOp:translate"]
        float physics:mass = 0.15
        float3 physics:diagonalInertia = (0.002, 0.002, 0.002)
        
        def Cube "R_Hip"
        {
            float3 xformOp:translate = (0, 0, 0)
            float3 xformOp:scale = (0.025, 0.025, 0.025)
            uniform token[] xformOpOrder = ["xformOp:translate", "xformOp:scale"]
        }
        
        def Cube "R_Leg"
        {
            float3 xformOp:translate = (0, 0, -0.05)
            float3 xformOp:scale = (0.022, 0.022, 0.05)
            uniform token[] xformOpOrder = ["xformOp:translate", "xformOp:scale"]
        }
        
        def Cube "R_Foot"
        {
            float3 xformOp:translate = (0.008, 0, -0.10)
            float3 xformOp:scale = (0.035, 0.05, 0.008)
            uniform token[] xformOpOrder = ["xformOp:translate", "xformOp:scale"]
        }
    }

    def PhysicsRevoluteJoint "r_hip"
    {
        uniform token physics:axis = "X"
        rel physics:body0 = </Humanoid/base_link>
        rel physics:body1 = </Humanoid/R_Hip_link>
        float3 physics:localPos0 = (0, -0.025, -0.04)
        float3 physics:localPos1 = (0, 0, 0)
        float physics:lowerLimit = -0.8
        float physics:upperLimit = 0.8
    }
}

def Xform "Ground"
{
    def Cube "Floor"
    {
        float3 xformOp:translate = (0, 0, -0.01)
        float3 xformOp:scale = (2, 2, 0.01)
        uniform token[] xformOpOrder = ["xformOp:translate", "xformOp:scale"]
    }
}
